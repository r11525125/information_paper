# LiDAR壓縮與TSN整合實驗框架

## 實驗概述

本實驗框架包含三個核心實驗，用於驗證LiDAR壓縮技術在TSN網路環境下的效能表現：

### 1. **實驗一：TSN壓縮與未壓縮比較**
- **目標**: 比較不同壓縮技術在TSN網路下的效能表現
- **測試參數**:
  - 幀率: 10, 20, 30 Hz
  - 車輛數量: 1, 4, 8, 12, 16
  - 封包大小: 1000, 1500, 9000 bits
  - 壓縮方法: 6種（未壓縮到EB-HC-3D）

- **評估指標**:
  - 壓縮比率
  - 網路利用率
  - 總延遲（壓縮+傳輸+排隊）
  - TSN可行性
  - 抖動

### 2. **實驗二：IPFS成本節省分析**
- **目標**: 量化IPFS分散式儲存相對於傳統雲端儲存的成本效益
- **測試參數**:
  - 車隊規模: 10, 50, 100, 500, 1000 輛
  - 營運年數: 1, 3, 5, 10 年
  - 壓縮方法: 5種壓縮率

- **評估指標**:
  - 年度儲存成本節省
  - 投資回收期（ROI）
  - 頻寬成本分析
  - 可擴展性因子

### 3. **實驗三：延遲改善百分比計算**
- **目標**: 測量不同網路技術組合的延遲改善效果
- **測試場景**:
  - 都市路口、高速公路、校園、停車場、市中心
  - 網路技術: WiFi, LTE, TSN未壓縮, TSN壓縮
  - 車輛數量和距離變化

- **評估指標**:
  - 總延遲分解（處理+傳播+傳輸+排隊）
  - 延遲改善百分比
  - 實時性能能力
  - 可靠性因子

## 快速開始

### 執行所有實驗
```bash
python run_experiments.py
```

### 僅設置環境
```bash
python run_experiments.py --setup-only
```

### 僅查看結果
```bash
python run_experiments.py --results-only
```

## 預期結果

### 實驗一結果範例
- **總場景**: 270個測試場景
- **最佳壓縮**: EB-HC-3D(L2)，壓縮比0.21
- **TSN可行性**: 80%以上場景可行
- **頻寬節省**: 最高79%

### 實驗二結果範例
- **最大年度節省**: $50,000+ (1000輛車隊)
- **最佳壓縮方法**: EB-HC-3D系列
- **平均ROI**: 2-3年
- **成本降低**: 高達79%

### 實驗三結果範例
- **延遲改善**: 60-80% (相較於傳統WiFi)
- **基準延遲**: WiFi ~40ms → TSN壓縮 ~8ms
- **實時性能**: 90%以上場景達到實時要求
- **最佳組合**: TSN + EB-HC-3D壓縮

## 輸出檔案說明

```
outputs/experiments/
├── experiment_1_tsn_comparison.csv          # TSN比較詳細結果
├── experiment_2_ipfs_cost_analysis.csv      # IPFS成本分析結果
├── experiment_3_latency_analysis.csv        # 延遲分析結果
├── comprehensive_experiment_report.json     # JSON格式綜合報告
└── experiment_summary_report.md             # Markdown摘要報告
```

## 技術細節

### 壓縮方法對照表
| 方法 | 壓縮比 | 處理延遲(ms) | 適用場景 |
|------|--------|--------------|----------|
| 未壓縮 | 1.0 | 0 | 高即時性要求 |
| Huffman | 0.65 | 2.8 | 基本壓縮需求 |
| EB-HC(Axis) | 0.42 | 3.5 | 平衡效能 |
| EB-HC(L2) | 0.38 | 4.1 | 較佳壓縮 |
| EB-HC-3D(Axis) | 0.23 | 5.2 | 高壓縮需求 |
| EB-HC-3D(L2) | 0.21 | 6.1 | 最佳壓縮 |

### 網路技術規格
| 技術 | 頻寬 | 基礎延遲 | 可靠性 |
|------|------|----------|--------|
| WiFi | 100 Mbps | 15ms | 85% |
| LTE | 50 Mbps | 25ms | 90% |
| TSN | 1000 Mbps | 2ms | 99%+ |

## 實驗驗證

### 數據來源
- **LiDAR數據**: KITTI數據集，包含多種駕駛場景
- **壓縮結果**: 基於EBpapercopy2.py實際測試結果
- **網路參數**: 根據TSN標準和實際部署經驗

### 真實性驗證
1. **壓縮比率**: 基於實際KITTI數據壓縮測試
2. **延遲模型**: 考慮實際網路擁塞和排隊理論
3. **成本模型**: 參考AWS、IPFS等實際服務定價
4. **TSN規格**: 符合IEEE 802.1標準

## 結論與應用

這套實驗框架提供了：

1. **量化證據**: TSN+壓縮技術的具體效能提升數據
2. **成本效益分析**: IPFS分散式架構的經濟優勢
3. **實用指導**: 不同場景下的最佳技術組合建議
4. **可重現性**: 完整的實驗代碼和參數設定

實驗結果將支持論文中關於LiDAR壓縮與TSN整合效能的核心論點。